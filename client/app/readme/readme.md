# 文豪メッセンジャー

----

> 文豪とメッセンジャー友達だったら小説読むのが捗るんじゃないか的な

### 使い方

* 読みたい小説を`青空文庫`で探す
* 左上の`本のアイコン`から青空文庫の作品URLを入力する
* あとは最下部の`トークボタン`を押して読み進める
* 青空文庫インポート実行後は表示アドレスが書き換わるので、そのアドレスをブックマークすれば次回から任意の作品を開くことが出来る


### 仕様

* 青空文庫の作品ページから`著者名`、`タイトル名`、`本文`を取得する
* `本文`から「」部分を抽出し、メッセンジャーの会話風に表示する
* 「」がネストされている場合は一番外側の物のみを使用する
 * 作品によっては「」が正しく閉じられていない場合もあり、その場合は、なんというかどうしようもない
 * 作品によっては「」がほとんど無い場合もあり、その場合は寂しい
* 会話以外の部分はお知らせメッセージとして表示する
* ルビ以外のタグは削除
* `著者名`で画像検索したうちの上位10個からランダムでプロフィールアイコンに設定
* `タイトル名`で画像検索したもの100件からランダムでスタンプとして表示する（トーク1クリック毎に5%の確率で表示）

### 既知の問題

* パースが上手く行ってない場合があり、空欄が出たり、一部内容が欠ける部分がある。
* 初めて見た人用に、トークボタンを押すことを促すなどもう少し分かりやすくしたい

### 今後対応するやもしれない事項など

* 1クリック単位のメッセージ読み込み量設定
* オートスクロール
* 会話部分だけ表示する設定
* スタンプの有無、表示確率設定
* 読み終えたら巻き戻し確認
* ちゃんとフキダシのしっぽをつける

----

### 謝辞

* [青空文庫](http://www.aozora.gr.jp/)
* [LINE](http://line.me/)
* [Google](http://google.com/)
